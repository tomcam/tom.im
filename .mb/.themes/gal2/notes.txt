Working on a version of the gallery based on Xian's prototype

